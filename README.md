# Тестовое задание для проекта "Детектор взаимных блокировок (deadlock) в отладчике"

1. [Сборка](#Сборка)
1. [Реализация](#Реализация)


## Сборка

```
git clone https://github.com/fleex-x/JB-deadlock-detector-test-task.git
cd JB-deadlock-detector-test-task
cmake .
make
./safe-mutex-tests
./deadlock-main
```

Тесты могут работать долго (от 20 секунд), так как там очень много операций создания потока/блокировки мьютекса. Исполняемый файл deadlock-main демонстрирует, что при возникновении взаимной блокировки решение аварийно завершается.

## Реализация
Возникновение взаимной блокировки определяется следующим образом: в настоящий момент времени некоторые потоки находятся в состоянии ожидания мьютекса, который блокируется другим потоком. В итоге создается граф зависимости потоков, где существование направленного ребра между потоками  равносильно тому, что один поток ожиадет мьютекс, который блокируется другим потоком. При этом в настоящий момент возникла взаимная блокировка равносильно тому, что в этом графе есть цикл. В итоге в этом графе запускается поиск цикла, таким образом и происходит проверка на взаимную блокировку.